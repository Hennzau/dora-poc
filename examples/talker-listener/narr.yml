id: talker-listener

vars:
  BINARIES: "/home/enzo/Documents/narr/target/release"
  MESSAGE: "Hello, World!"

  DAEMON_1: "TALKER_DAEMON"
  DAEMON_2: "LISTENER_DAEMON"

nodes:
  - id: listener
    schema: listener/narr.yml
    start: "{{ BINARIES }}/listener"

  - id: talker
    schema: talker/narr.yml
    vars:
      MESSAGE: "{{ MESSAGE }}"
    start: "{{ BINARIES }}/talker"

flows:
  listener/in: talker/out

distribute:
  listener: "{{ DAEMON_2 }}"
  talker: "{{ DAEMON_1 }}"
